import{m as Mt,f as S,h as pt,a as b,d as L,p as F,k as ft,n as J,l as vt,r as X,q as dt,E as Ft,P as Rt,s as Ut}from"./index-WVR5AMdq.js";var $t=Object.defineProperty,qt=(t,e,r)=>e in t?$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nt=(t,e,r)=>qt(t,e+"",r);class Vt{constructor(){Nt(this,"map",new WeakMap)}getEventsMapByConsumer(e){let r=this.map.get(e);return r||(r=new Map,this.map.set(e,r)),r}getEventsByConsumer(e,r){const n=this.getEventsMapByConsumer(e);let o=n.get(r);return o||(o=new Set,n.set(r,o)),o}on(e,r,n,o={}){const c=this.getEventsByConsumer(e,r);let a=n;o.once&&(a=(...i)=>{n(...i),this.off(e,r,a)}),c.add(a),o.callAfterDelay!==void 0&&setTimeout(()=>{a()},o.callAfterDelay||0)}once(e,r,n){this.on(e,r,n,{once:!0})}emit(e,r,...n){this.getEventsByConsumer(e,r).forEach(o=>o(...n))}off(e,r,n){this.getEventsByConsumer(e,r).delete(n)}}const Lt=(t="")=>t.slice(2).toLowerCase(),Y=(t="")=>`on${t.charAt(0).toUpperCase()}${t.slice(1)}`,Wt=()=>{let t=()=>{},e=()=>{};return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}};var m=(t=>(t.confirm="confirm",t.cancel="cancel",t.destory="destory",t))(m||{});const yt=Symbol("CommandDialogConsumerInjectKey"),Z=Symbol("CommandDialogStackInjectKey"),z=new Vt,ht=t=>({...t.parent?ht(t.parent):{},...t.provides});function bt(t,e,r){const n=(typeof r.appendTo=="string"?document.querySelector(r.appendTo):r.appendTo)||document.body,o=document.createElement("div");o.className="command-commponent-container",n.appendChild(o);const c=()=>{r.visible.value=!1},a=()=>{r.visible.value=!0},i=()=>{Ut(()=>{J(null,o),o.remove()})},u=(l=!1)=>{l?(v.on(m.destory,i,{once:!0,callAfterDelay:3e3}),c()):v.stack.splice(v.stackIndex).forEach(d=>d.destroy(!0))},{promise:p,resolve:f,reject:y}=Wt(),v={promise:p,resolve:f,reject:y,destroyWithResolve:l=>{f(l),u()},destroyWithReject:l=>{y(l),u()},hide:c,show:a,destroy:u,container:o,visible:r.visible,on:(l,d,Dt={})=>z.on(v,l,d,Dt),once:(l,d)=>z.once(v,l,d),emit:(l,...d)=>z.emit(v,l,...d),off:(l,d)=>z.off(v,l,d),stack:[],stackIndex:-1,componentRef:void 0},h=b(L({setup(){for(const d in r.provideProps)F(d,r.provideProps[d]);F(yt,v);const l=ft(Z,[]);return v.stackIndex=l.length,l.push(v),F(Z,l),v.stack=l,()=>e}}),null,null);return h.appContext=(t==null?void 0:t.appContext)||h.appContext,h.appContext.provides={...h.appContext.provides,...ht(t)},J(h,o),v}const xn=(t=!0)=>{const e=()=>t&&console.warn(`别调用了欧尼酱~,这会儿没啥实际用途;没有根据CommandDialogInjectKey接收到注入数据.原因可能有两个:
    1.你可能对getCommandDialogConsumer进行了异步调用或条件调用,请在setup中直接调用.
    2.你没有在命令弹窗内展示该组件,这个时候你一般可以忽略该警告消息.`);return ft(yt,()=>new Proxy({},{get:()=>e,apply:e}),!0)},Cn=(t=!0)=>{const e=vt(),{locale:{t:r}}=Mt("message-box");return(n,o={})=>{const c=S(t),a=bt(e,pt(L({setup(){const i=S(),u=y=>{y(),a.destroy()},p=()=>{a.emit(m.destory)},f=()=>{Promise.resolve().then(()=>{a.componentRef=i})};return()=>b(Ft,dt({ref:i,modelValue:c.value,beforeClose:u,onClosed:p,onVnodeMounted:f},{title:o.title,width:o.width,...o.attrs}),{default:()=>n,footer:()=>b("div",null,[o[Y(m.cancel)]&&b(X("el-button"),{onClick:()=>a.emit(m.cancel)},{default:()=>[o.cancelBtnText||r("el.messagebox.cancel")]}),o[Y(m.confirm)]&&b(X("el-button"),{type:"primary",onClick:()=>a.emit(m.confirm)},{default:()=>[o.confirmBtnText||r("el.messagebox.confirm")]})]),...o.slots})}})),{provideProps:o.provideProps||{},appendTo:o.appendTo,visible:c});return Object.entries(o).filter(([i,u])=>i.startsWith("on")&&typeof u=="function").forEach(([i,u])=>{const p=Lt(i);a.on(p,u)}),a}};var _t=typeof global=="object"&&global&&global.Object===Object&&global,Gt=typeof self=="object"&&self&&self.Object===Object&&self,O=_t||Gt||Function("return this")(),k=O.Symbol,mt=Object.prototype,Kt=mt.hasOwnProperty,Ht=mt.toString,C=k?k.toStringTag:void 0;function Jt(t){var e=Kt.call(t,C),r=t[C];try{t[C]=void 0;var n=!0}catch{}var o=Ht.call(t);return n&&(e?t[C]=r:delete t[C]),o}var Xt=Object.prototype,Yt=Xt.toString;function Zt(t){return Yt.call(t)}var Qt="[object Null]",te="[object Undefined]",Q=k?k.toStringTag:void 0;function I(t){return t==null?t===void 0?te:Qt:Q&&Q in Object(t)?Jt(t):Zt(t)}function T(t){return t!=null&&typeof t=="object"}var $=Array.isArray;function j(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function gt(t){return t}var ee="[object AsyncFunction]",re="[object Function]",ne="[object GeneratorFunction]",oe="[object Proxy]";function W(t){if(!j(t))return!1;var e=I(t);return e==re||e==ne||e==ee||e==oe}var R=O["__core-js_shared__"],tt=function(){var t=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ie(t){return!!tt&&tt in t}var ae=Function.prototype,ce=ae.toString;function ue(t){if(t!=null){try{return ce.call(t)}catch{}try{return t+""}catch{}}return""}var se=/[\\^$.*+?()[\]{}|]/g,le=/^\[object .+?Constructor\]$/,pe=Function.prototype,fe=Object.prototype,ve=pe.toString,de=fe.hasOwnProperty,ye=RegExp("^"+ve.call(de).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function he(t){if(!j(t)||ie(t))return!1;var e=W(t)?ye:le;return e.test(ue(t))}function be(t,e){return t==null?void 0:t[e]}function G(t,e){var r=be(t,e);return he(r)?r:void 0}var et=Object.create,_e=function(){function t(){}return function(e){if(!j(e))return{};if(et)return et(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function me(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function ge(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var je=800,Oe=16,we=Date.now;function xe(t){var e=0,r=0;return function(){var n=we(),o=Oe-(n-r);if(r=n,o>0){if(++e>=je)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ce(t){return function(){return t}}var E=function(){try{var t=G(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Pe=E?function(t,e){return E(t,"toString",{configurable:!0,enumerable:!1,value:Ce(e),writable:!0})}:gt,Ae=xe(Pe),Te=9007199254740991,ze=/^(?:0|[1-9]\d*)$/;function jt(t,e){var r=typeof t;return e=e??Te,!!e&&(r=="number"||r!="symbol"&&ze.test(t))&&t>-1&&t%1==0&&t<e}function K(t,e,r){e=="__proto__"&&E?E(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function B(t,e){return t===e||t!==t&&e!==e}var Se=Object.prototype,ke=Se.hasOwnProperty;function Ee(t,e,r){var n=t[e];(!(ke.call(t,e)&&B(n,r))||r===void 0&&!(e in t))&&K(t,e,r)}function Ie(t,e,r,n){var o=!r;r||(r={});for(var c=-1,a=e.length;++c<a;){var i=e[c],u=void 0;u===void 0&&(u=t[i]),o?K(r,i,u):Ee(r,i,u)}return r}var rt=Math.max;function Be(t,e,r){return e=rt(e===void 0?t.length-1:e,0),function(){for(var n=arguments,o=-1,c=rt(n.length-e,0),a=Array(c);++o<c;)a[o]=n[e+o];o=-1;for(var i=Array(e+1);++o<e;)i[o]=n[o];return i[e]=r(a),me(t,this,i)}}function De(t,e){return Ae(Be(t,e,gt),t+"")}var Me=9007199254740991;function Ot(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Me}function H(t){return t!=null&&Ot(t.length)&&!W(t)}function Fe(t,e,r){if(!j(r))return!1;var n=typeof e;return(n=="number"?H(r)&&jt(e,r.length):n=="string"&&e in r)?B(r[e],t):!1}function Re(t){return De(function(e,r){var n=-1,o=r.length,c=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(c=t.length>3&&typeof c=="function"?(o--,c):void 0,a&&Fe(r[0],r[1],a)&&(c=o<3?void 0:c,o=1),e=Object(e);++n<o;){var i=r[n];i&&t(e,i,n,c)}return e})}var Ue=Object.prototype;function wt(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ue;return t===r}function $e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var qe="[object Arguments]";function nt(t){return T(t)&&I(t)==qe}var xt=Object.prototype,Ne=xt.hasOwnProperty,Ve=xt.propertyIsEnumerable,q=nt(function(){return arguments}())?nt:function(t){return T(t)&&Ne.call(t,"callee")&&!Ve.call(t,"callee")};function Le(){return!1}var Ct=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ot=Ct&&typeof module=="object"&&module&&!module.nodeType&&module,We=ot&&ot.exports===Ct,it=We?O.Buffer:void 0,Ge=it?it.isBuffer:void 0,Pt=Ge||Le,Ke="[object Arguments]",He="[object Array]",Je="[object Boolean]",Xe="[object Date]",Ye="[object Error]",Ze="[object Function]",Qe="[object Map]",tr="[object Number]",er="[object Object]",rr="[object RegExp]",nr="[object Set]",or="[object String]",ir="[object WeakMap]",ar="[object ArrayBuffer]",cr="[object DataView]",ur="[object Float32Array]",sr="[object Float64Array]",lr="[object Int8Array]",pr="[object Int16Array]",fr="[object Int32Array]",vr="[object Uint8Array]",dr="[object Uint8ClampedArray]",yr="[object Uint16Array]",hr="[object Uint32Array]",s={};s[ur]=s[sr]=s[lr]=s[pr]=s[fr]=s[vr]=s[dr]=s[yr]=s[hr]=!0;s[Ke]=s[He]=s[ar]=s[Je]=s[cr]=s[Xe]=s[Ye]=s[Ze]=s[Qe]=s[tr]=s[er]=s[rr]=s[nr]=s[or]=s[ir]=!1;function br(t){return T(t)&&Ot(t.length)&&!!s[I(t)]}function _r(t){return function(e){return t(e)}}var At=typeof exports=="object"&&exports&&!exports.nodeType&&exports,P=At&&typeof module=="object"&&module&&!module.nodeType&&module,mr=P&&P.exports===At,U=mr&&_t.process,at=function(){try{var t=P&&P.require&&P.require("util").types;return t||U&&U.binding&&U.binding("util")}catch{}}(),ct=at&&at.isTypedArray,Tt=ct?_r(ct):br;function gr(t,e){var r=$(t),n=!r&&q(t),o=!r&&!n&&Pt(t),c=!r&&!n&&!o&&Tt(t),a=r||n||o||c,i=a?$e(t.length,String):[],u=i.length;for(var p in t)a&&(p=="length"||o&&(p=="offset"||p=="parent")||c&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||jt(p,u))||i.push(p);return i}function jr(t,e){return function(r){return t(e(r))}}function Or(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var wr=Object.prototype,xr=wr.hasOwnProperty;function Cr(t){if(!j(t))return Or(t);var e=wt(t),r=[];for(var n in t)n=="constructor"&&(e||!xr.call(t,n))||r.push(n);return r}function zt(t){return H(t)?gr(t):Cr(t)}var A=G(Object,"create");function Pr(){this.__data__=A?A(null):{},this.size=0}function Ar(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Tr="__lodash_hash_undefined__",zr=Object.prototype,Sr=zr.hasOwnProperty;function kr(t){var e=this.__data__;if(A){var r=e[t];return r===Tr?void 0:r}return Sr.call(e,t)?e[t]:void 0}var Er=Object.prototype,Ir=Er.hasOwnProperty;function Br(t){var e=this.__data__;return A?e[t]!==void 0:Ir.call(e,t)}var Dr="__lodash_hash_undefined__";function Mr(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=A&&e===void 0?Dr:e,this}function g(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}g.prototype.clear=Pr;g.prototype.delete=Ar;g.prototype.get=kr;g.prototype.has=Br;g.prototype.set=Mr;function Fr(){this.__data__=[],this.size=0}function D(t,e){for(var r=t.length;r--;)if(B(t[r][0],e))return r;return-1}var Rr=Array.prototype,Ur=Rr.splice;function $r(t){var e=this.__data__,r=D(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Ur.call(e,r,1),--this.size,!0}function qr(t){var e=this.__data__,r=D(e,t);return r<0?void 0:e[r][1]}function Nr(t){return D(this.__data__,t)>-1}function Vr(t,e){var r=this.__data__,n=D(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function _(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_.prototype.clear=Fr;_.prototype.delete=$r;_.prototype.get=qr;_.prototype.has=Nr;_.prototype.set=Vr;var St=G(O,"Map");function Lr(){this.size=0,this.__data__={hash:new g,map:new(St||_),string:new g}}function Wr(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function M(t,e){var r=t.__data__;return Wr(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Gr(t){var e=M(this,t).delete(t);return this.size-=e?1:0,e}function Kr(t){return M(this,t).get(t)}function Hr(t){return M(this,t).has(t)}function Jr(t,e){var r=M(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function w(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}w.prototype.clear=Lr;w.prototype.delete=Gr;w.prototype.get=Kr;w.prototype.has=Hr;w.prototype.set=Jr;var kt=jr(Object.getPrototypeOf,Object),Xr="[object Object]",Yr=Function.prototype,Zr=Object.prototype,Et=Yr.toString,Qr=Zr.hasOwnProperty,tn=Et.call(Object);function en(t){if(!T(t)||I(t)!=Xr)return!1;var e=kt(t);if(e===null)return!0;var r=Qr.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Et.call(r)==tn}function rn(){this.__data__=new _,this.size=0}function nn(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function on(t){return this.__data__.get(t)}function an(t){return this.__data__.has(t)}var cn=200;function un(t,e){var r=this.__data__;if(r instanceof _){var n=r.__data__;if(!St||n.length<cn-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new w(n)}return r.set(t,e),this.size=r.size,this}function x(t){var e=this.__data__=new _(t);this.size=e.size}x.prototype.clear=rn;x.prototype.delete=nn;x.prototype.get=on;x.prototype.has=an;x.prototype.set=un;var It=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ut=It&&typeof module=="object"&&module&&!module.nodeType&&module,sn=ut&&ut.exports===It,st=sn?O.Buffer:void 0;st&&st.allocUnsafe;function ln(t,e){return t.slice()}var lt=O.Uint8Array;function pn(t){var e=new t.constructor(t.byteLength);return new lt(e).set(new lt(t)),e}function fn(t,e){var r=pn(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function vn(t){return typeof t.constructor=="function"&&!wt(t)?_e(kt(t)):{}}function dn(t){return function(e,r,n){for(var o=-1,c=Object(e),a=n(e),i=a.length;i--;){var u=a[++o];if(r(c[u],u,c)===!1)break}return e}}var yn=dn();function N(t,e,r){(r!==void 0&&!B(t[e],r)||r===void 0&&!(e in t))&&K(t,e,r)}function hn(t){return T(t)&&H(t)}function V(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function bn(t){return Ie(t,zt(t))}function _n(t,e,r,n,o,c,a){var i=V(t,r),u=V(e,r),p=a.get(u);if(p){N(t,r,p);return}var f=c?c(i,u,r+"",t,e,a):void 0,y=f===void 0;if(y){var v=$(u),h=!v&&Pt(u),l=!v&&!h&&Tt(u);f=u,v||h||l?$(i)?f=i:hn(i)?f=ge(i):h?(y=!1,f=ln(u)):l?(y=!1,f=fn(u)):f=[]:en(u)||q(u)?(f=i,q(i)?f=bn(i):(!j(i)||W(i))&&(f=vn(u))):y=!1}y&&(a.set(u,f),o(f,u,n,c,a),a.delete(u)),N(t,r,f)}function Bt(t,e,r,n,o){t!==e&&yn(e,function(c,a){if(o||(o=new x),j(c))_n(t,e,a,r,Bt,n,o);else{var i=n?n(V(t,a),c,a+"",t,e,o):void 0;i===void 0&&(i=c),N(t,a,i)}},zt)}var mn=Re(function(t,e,r){Bt(t,e,r)});const gn={overlay:!0,round:!0,lockScroll:!0,closeable:!0,closeOnClickOverlay:!1,style:{backgroundColor:"#fff",color:"#000"}},jn=(t=!0)=>{const e=vt();return(r,n={})=>{const o=S(t),c=bt(e,pt(L({setup(){const a=S(),i=()=>{c.destroy()},u=()=>{c.emit(m.destory)},p=()=>{Promise.resolve().then(()=>{c.componentRef=a})};return()=>b(Rt,dt({ref:a,show:o.value,onClickCloseIcon:i,onClosed:u,onVnodeMounted:p},{...gn,...n.attrs}),{default:()=>r,...n.slots})}})),{provideProps:n.provideProps||{},appendTo:n.appendTo,visible:o});return c}},On=(t=!0)=>{const e=jn(t);return(r,n={})=>{const o=b("div",{class:"w-full h-full"},[n.title&&b("div",{class:"vant-popup-title"},[b("div",{class:"vant-popup-title-text",innerHTML:n.title},null)]),r]);return e(o,n)}},Pn=(t=!0)=>{const e=On(t);return(r,n={})=>(mn(n,{attrs:{position:"bottom",style:{width:"100vw"}}}),e(r,n))};export{xn as $,Cn as D,Pn as I,jn as U,m as g};
