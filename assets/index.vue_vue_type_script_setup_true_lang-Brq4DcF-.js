import{Y as Me,a2 as B,ai as Ve,bc as Ue,H as F,b as E,a4 as Ye,b1 as je,al as He,a8 as k,ao as Ke,an as h,ag as c,aR as ae,R as i,aP as se,au as N,aK as z,aM as We,ab as I,a9 as S,aa as Y,as as ee,at as $,aJ as Xe,bg as Ze,aQ as le,ac as qe,aw as Ge,bw as Ce,J as M,bx as Je,aZ as re,bd as Qe,w as W,P as we,$ as Be,aS as De,a5 as et,ad as Pe,U as tt,by as ke,_ as K,ah as te,bz as nt,bn as Se,ar as P,bA as Ae}from"./index-BBBYdKJa.js";import{f as ot,h as at,u as st,j as lt,E as rt,b as ut,k as Ie,e as $e,g as it,c as de}from"./ElementPlusDialog-B00atfRm.js";const ct=Me({...ot,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),dt=at,ft=B({name:"ElDrawer",inheritAttrs:!1}),vt=B({...ft,props:ct,emits:dt,setup(e,{expose:t}){const n=e,a=Ve();Ue({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},F(()=>!!a.title));const l=E(),r=E(),s=Ye("drawer"),{t:o}=je(),{afterEnter:d,afterLeave:f,beforeLeave:v,visible:u,rendered:p,titleId:y,bodyId:g,zIndex:D,onModalClick:w,onOpenAutoFocus:Z,onCloseAutoFocus:q,onFocusoutPrevented:G,onCloseRequested:J,handleClose:T}=st(n,l),b=F(()=>n.direction==="rtl"||n.direction==="ltr"),C=F(()=>He(n.size));return t({handleClose:T,afterEnter:d,afterLeave:f}),(m,U)=>(k(),Ke(i(ut),{to:m.appendTo,disabled:m.appendTo!=="body"?!1:!m.appendToBody},{default:h(()=>[c(ae,{name:i(s).b("fade"),onAfterEnter:i(d),onAfterLeave:i(f),onBeforeLeave:i(v),persisted:""},{default:h(()=>[se(c(i(lt),{mask:m.modal,"overlay-class":m.modalClass,"z-index":i(D),onClick:i(w)},{default:h(()=>[c(i(rt),{loop:"",trapped:i(u),"focus-trap-el":l.value,"focus-start-el":r.value,onFocusAfterTrapped:i(Z),onFocusAfterReleased:i(q),onFocusoutPrevented:i(G),onReleaseRequested:i(J)},{default:h(()=>[N("div",z({ref_key:"drawerRef",ref:l,"aria-modal":"true","aria-label":m.title||void 0,"aria-labelledby":m.title?void 0:i(y),"aria-describedby":i(g)},m.$attrs,{class:[i(s).b(),m.direction,i(u)&&"open"],style:i(b)?"width: "+i(C):"height: "+i(C),role:"dialog",onClick:We(()=>{},["stop"])}),[N("span",{ref_key:"focusStartRef",ref:r,class:I(i(s).e("sr-focus")),tabindex:"-1"},null,2),m.withHeader?(k(),S("header",{key:0,class:I(i(s).e("header"))},[m.$slots.title?Y(m.$slots,"title",{key:1},()=>[$(" DEPRECATED SLOT ")]):Y(m.$slots,"header",{key:0,close:i(T),titleId:i(y),titleClass:i(s).e("title")},()=>[m.$slots.title?$("v-if",!0):(k(),S("span",{key:0,id:i(y),role:"heading","aria-level":m.headerAriaLevel,class:I(i(s).e("title"))},ee(m.title),11,["id","aria-level"]))]),m.showClose?(k(),S("button",{key:2,"aria-label":i(o)("el.drawer.close"),class:I(i(s).e("close-btn")),type:"button",onClick:i(T)},[c(i(Xe),{class:I(i(s).e("close"))},{default:h(()=>[c(i(Ze))]),_:1},8,["class"])],10,["aria-label","onClick"])):$("v-if",!0)],2)):$("v-if",!0),i(p)?(k(),S("div",{key:1,id:i(g),class:I(i(s).e("body"))},[Y(m.$slots,"default")],10,["id"])):$("v-if",!0),m.$slots.footer?(k(),S("div",{key:2,class:I(i(s).e("footer"))},[Y(m.$slots,"footer")],2)):$("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[le,i(u)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var pt=qe(vt,[["__file","drawer.vue"]]);const mt=Ge(pt),yt=(e=!0)=>{const t=M();return(a,l={})=>{const r=E(e),s=Ie(t,Ce(B({setup(){const o=E(),d=u=>{u(),s.destroy()},f=()=>{s.emit($e.destory)},v=()=>{Promise.resolve().then(()=>{s.componentRef=o})};return()=>c(mt,z({ref:o,modelValue:r.value,beforeClose:d,onClosed:f,onVnodeMounted:v},{title:l.title,width:l.width,...l.attrs}),{default:()=>a,...l.slots})}})),{provideProps:l.provideProps||{},appendTo:l.appendTo,visible:r});return s}};function Et(){}const ue=Object.assign,bt=typeof window<"u",ie=e=>e!==null&&typeof e=="object",L=e=>e!=null,ne=e=>typeof e=="function",ht=e=>ie(e)&&ne(e.then)&&ne(e.catch),Oe=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),gt=()=>bt?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function fe(e,t){const n=t.split(".");let a=e;return n.forEach(l=>{var r;a=ie(a)&&(r=a[l])!=null?r:""}),a}const _e=null,A=[Number,String],_={type:Boolean,default:!0},R=e=>({type:String,default:e});var ce=typeof window<"u";function Te(e){let t;we(()=>{e(),Be(()=>{t=!0})}),De(()=>{t&&e()})}function Fe(e,t,n={}){if(!ce)return;const{target:a=window,passive:l=!1,capture:r=!1}=n;let s=!1,o;const d=u=>{if(s)return;const p=i(u);p&&!o&&(p.addEventListener(e,t,{capture:r,passive:l}),o=!0)},f=u=>{if(s)return;const p=i(u);p&&o&&(p.removeEventListener(e,t,r),o=!1)};Je(()=>f(a)),re(()=>f(a)),Te(()=>d(a));let v;return Qe(a)&&(v=W(a,(u,p)=>{f(p),d(u)})),()=>{v==null||v(),f(a),s=!0}}var j,Q;function Ct(){if(!j&&(j=E(0),Q=E(0),ce)){const e=()=>{j.value=window.innerWidth,Q.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:j,height:Q}}var wt=/scroll|auto|overlay/i,Bt=ce?window:void 0;function Dt(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Pt(e,t=Bt){let n=e;for(;n&&n!==t&&Dt(n);){const{overflowY:a}=window.getComputedStyle(n);if(wt.test(a))return n;n=n.parentNode}return t}gt();const kt=e=>e.stopPropagation();function Re(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),kt(e)}Ct();function O(e){if(L(e))return Oe(e)?`${e}px`:String(e)}function St(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const At=/-(\w)/g,ze=e=>e.replace(At,(t,n)=>n.toUpperCase()),{hasOwnProperty:It}=Object.prototype;function $t(e,t,n){const a=t[n];L(a)&&(!It.call(e,n)||!ie(a)?e[n]=a:e[n]=Le(Object(e[n]),a))}function Le(e,t){return Object.keys(t).forEach(n=>{$t(e,t,n)}),e}var Ot={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const ve=E("zh-CN"),pe=et({"zh-CN":Ot}),_t={messages(){return pe[ve.value]},use(e,t){ve.value=e,this.add({[e]:t})},add(e={}){Le(pe,e)}};var Tt=_t;function Ft(e){const t=ze(e)+".";return(n,...a)=>{const l=Tt.messages(),r=fe(l,t+n)||fe(l,n);return ne(r)?r(...a):r}}function oe(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,a)=>n+oe(e,a),""):Object.keys(t).reduce((n,a)=>n+(t[a]?oe(e,a):""),""):""}function Rt(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${oe(t,n)}`)}function V(e){const t=`van-${e}`;return[t,Rt(t),Ft(t)]}const zt="van-haptics-feedback",me=5;function Lt(e,{args:t=[],done:n,canceled:a,error:l}){if(e){const r=e.apply(null,t);ht(r)?r.then(s=>{s?n():a&&a()}).catch(l||Et):r?n():a&&a()}else n()}function X(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(ze(`-${n}`),e))},e}const xt=Symbol();function Nt(e){const t=M();t&&ue(t.proxy,e)}const[Mt,ye]=V("badge"),Vt={dot:Boolean,max:A,tag:R("div"),color:String,offset:Array,content:A,showZero:_,position:R("top-right")};var Ut=B({name:Mt,props:Vt,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:o,showZero:d}=e;return L(o)&&o!==""&&(d||o!==0&&o!=="0")},a=()=>{const{dot:o,max:d,content:f}=e;if(!o&&n())return t.content?t.content():L(d)&&Oe(f)&&+f>+d?`${d}+`:f},l=o=>o.startsWith("-")?o.replace("-",""):`-${o}`,r=F(()=>{const o={background:e.color};if(e.offset){const[d,f]=e.offset,{position:v}=e,[u,p]=v.split("-");t.default?(typeof f=="number"?o[u]=O(u==="top"?f:-f):o[u]=u==="top"?O(f):l(f),typeof d=="number"?o[p]=O(p==="left"?d:-d):o[p]=p==="left"?O(d):l(d)):(o.marginTop=O(f),o.marginLeft=O(d))}return o}),s=()=>{if(n()||e.dot)return c("div",{class:ye([e.position,{dot:e.dot,fixed:!!t.default}]),style:r.value},[a()])};return()=>{if(t.default){const{tag:o}=e;return c(o,{class:ye("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const Yt=X(Ut);let jt=2e3;const Ht=()=>++jt,[Kt,bn]=V("config-provider"),Wt=Symbol(Kt),[Xt,Ee]=V("icon"),Zt=e=>e==null?void 0:e.includes("/"),qt={dot:Boolean,tag:R("i"),name:String,size:A,badge:A,color:String,badgeProps:Object,classPrefix:String};var Gt=B({name:Xt,props:qt,setup(e,{slots:t}){const n=Pe(Wt,null),a=F(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||Ee());return()=>{const{tag:l,dot:r,name:s,size:o,badge:d,color:f}=e,v=Zt(s);return c(Yt,z({dot:r,tag:l,class:[a.value,v?"":`${a.value}-${s}`],style:{color:f,fontSize:O(o)},content:d},e.badgeProps),{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t),v&&c("img",{class:Ee("image"),src:s},null)]}})}}});const Jt=X(Gt),Qt={show:Boolean,zIndex:A,overlay:_,duration:A,teleport:[String,Object],lockScroll:_,lazyRender:_,beforeClose:Function,overlayStyle:Object,overlayClass:_e,transitionAppear:Boolean,closeOnClickOverlay:_};function en(e,t){return e>t?"horizontal":t>e?"vertical":""}function tn(){const e=E(0),t=E(0),n=E(0),a=E(0),l=E(0),r=E(0),s=E(""),o=E(!0),d=()=>s.value==="vertical",f=()=>s.value==="horizontal",v=()=>{n.value=0,a.value=0,l.value=0,r.value=0,s.value="",o.value=!0};return{move:y=>{const g=y.touches[0];n.value=(g.clientX<0?0:g.clientX)-e.value,a.value=g.clientY-t.value,l.value=Math.abs(n.value),r.value=Math.abs(a.value);const D=10;(!s.value||l.value<D&&r.value<D)&&(s.value=en(l.value,r.value)),o.value&&(l.value>me||r.value>me)&&(o.value=!1)},start:y=>{v(),e.value=y.touches[0].clientX,t.value=y.touches[0].clientY},reset:v,startX:e,startY:t,deltaX:n,deltaY:a,offsetX:l,offsetY:r,direction:s,isVertical:d,isHorizontal:f,isTap:o}}let x=0;const be="van-overflow-hidden";function nn(e,t){const n=tn(),a="01",l="10",r=v=>{n.move(v);const u=n.deltaY.value>0?l:a,p=Pt(v.target,e.value),{scrollHeight:y,offsetHeight:g,scrollTop:D}=p;let w="11";D===0?w=g>=y?"00":"01":D+g>=y&&(w="10"),w!=="11"&&n.isVertical()&&!(parseInt(w,2)&parseInt(u,2))&&Re(v)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,{passive:!1}),x||document.body.classList.add(be),x++},o=()=>{x&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),x--,x||document.body.classList.remove(be))},d=()=>t()&&s(),f=()=>t()&&o();Te(d),re(f),tt(f),W(t,v=>{v?s():o()})}function xe(e){const t=E(!1);return W(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const he=()=>{var e;const{scopeId:t}=((e=M())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[on,an]=V("overlay"),sn={show:Boolean,zIndex:A,duration:A,className:_e,lockScroll:_,lazyRender:_,customStyle:Object,teleport:[String,Object]};var ln=B({name:on,props:sn,setup(e,{slots:t}){const n=E(),a=xe(()=>e.show||!e.lazyRender),l=s=>{e.lockScroll&&Re(s)},r=a(()=>{var s;const o=ue(St(e.zIndex),e.customStyle);return L(e.duration)&&(o.animationDuration=`${e.duration}s`),se(c("div",{ref:n,style:o,class:[an(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[le,e.show]])});return Fe("touchmove",l,{target:n}),()=>{const s=c(ae,{name:"van-fade",appear:!0},{default:r});return e.teleport?c(ke,{to:e.teleport},{default:()=>[s]}):s}}});const rn=X(ln),un=ue({},Qt,{round:Boolean,position:R("center"),closeIcon:R("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:R("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[cn,ge]=V("popup");var dn=B({name:cn,inheritAttrs:!1,props:un,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:a}){let l,r;const s=E(),o=E(),d=xe(()=>e.show||!e.lazyRender),f=F(()=>{const b={zIndex:s.value};if(L(e.duration)){const C=e.position==="center"?"animationDuration":"transitionDuration";b[C]=`${e.duration}s`}return b}),v=()=>{l||(l=!0,s.value=e.zIndex!==void 0?+e.zIndex:Ht(),t("open"))},u=()=>{l&&Lt(e.beforeClose,{done(){l=!1,t("close"),t("update:show",!1)}})},p=b=>{t("clickOverlay",b),e.closeOnClickOverlay&&u()},y=()=>{if(e.overlay)return c(rn,z({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},he(),{onClick:p}),{default:a["overlay-content"]})},g=b=>{t("clickCloseIcon",b),u()},D=()=>{if(e.closeable)return c(Jt,{role:"button",tabindex:0,name:e.closeIcon,class:[ge("close-icon",e.closeIconPosition),zt],classPrefix:e.iconPrefix,onClick:g},null)};let w;const Z=()=>{w&&clearTimeout(w),w=setTimeout(()=>{t("opened")})},q=()=>t("closed"),G=b=>t("keydown",b),J=d(()=>{var b;const{round:C,position:m,safeAreaInsetTop:U,safeAreaInsetBottom:Ne}=e;return se(c("div",z({ref:o,style:f.value,role:"dialog",tabindex:0,class:[ge({round:C,[m]:m}),{"van-safe-area-top":U,"van-safe-area-bottom":Ne}],onKeydown:G},n,he()),[(b=a.default)==null?void 0:b.call(a),D()]),[[le,e.show]])}),T=()=>{const{position:b,transition:C,transitionAppear:m}=e,U=b==="center"?"van-fade":`van-popup-slide-${b}`;return c(ae,{name:C||U,appear:m,onAfterEnter:Z,onAfterLeave:q},{default:J})};return W(()=>e.show,b=>{b&&!l&&(v(),n.tabindex===0&&Be(()=>{var C;(C=o.value)==null||C.focus()})),!b&&l&&(l=!1,t("close"))}),Nt({popupRef:o}),nn(o,()=>e.show&&e.lockScroll),Fe("popstate",()=>{e.closeOnPopstate&&(u(),r=!1)}),we(()=>{e.show&&v()}),De(()=>{r&&(t("update:show",!0),r=!1)}),re(()=>{e.show&&e.teleport&&(u(),r=!0)}),K(xt,()=>e.show),()=>e.teleport?c(ke,{to:e.teleport},{default:()=>[y(),T()]}):c(te,null,[y(),T()])}});const fn=X(dn),vn={round:!0,lockScroll:!0,closeable:!0,style:{backgroundColor:"#fff",color:"#000"}},pn=(e=!0)=>{const t=M();return(a,l={})=>{const r=E(e),s=Ie(t,Ce(B({setup(){const o=E(),d=()=>{s.destroy()},f=()=>{s.emit($e.destory)},v=()=>{Promise.resolve().then(()=>{s.componentRef=o})};return()=>c(fn,z({ref:o,show:r.value,onClickCloseIcon:d,onClosed:f,onVnodeMounted:v},{...vn,...l.attrs}),{default:()=>a,...l.slots})}})),{provideProps:l.provideProps||{},appendTo:l.appendTo,visible:r});return s}},H=B({__name:"Content",setup(e){const t=nt().query.nested==="true";K("content","来自Content的🩷~");const n=Pe("depth",0);K("depth",n+1);const a=it();window.dialogStack=a.stack;const l=M(),r=E();return Promise.resolve().then(()=>{r.value={...l==null?void 0:l.appContext.provides,...l.provides}}),(s,o)=>{const d=Ae,f=Se;return k(),S(te,null,[c(d),o[2]||(o[2]=N("h3",null,"接收到的注入数据",-1)),N("div",null,ee(r.value),1),c(d),c(f,{onClick:o[0]||(o[0]=v=>i(a).destroy())},{default:h(()=>o[1]||(o[1]=[P("弹窗内部控制关闭")])),_:1}),t?(k(),S(te,{key:0},[c(d),N("h4",null,"弹窗深度:"+ee(i(n)),1),c(mn)],64)):$("",!0)],64)}}}),mn=B({__name:"index",setup(e){K("base","来自base的🩷");const t=de(),n=()=>{t(c(H,null,null),{title:"基础用法"})},a=()=>{const{hide:v,show:u,destroyWithResolve:p}=t(c(H,null,null),{title:"外部控制"});[2,4,6].forEach(y=>{setTimeout(()=>{y===2&&v(),y===4&&u(),y===6&&p()},y*1e3)})},l=de(!1),r=()=>{const{show:v}=l(c(H,null,null),{title:"三秒后打开"});setTimeout(()=>{v()},3e3)},s=pn(),o=()=>{s(c("div",{style:"color: red; height: 30vh;padding: 20px;"},[P("我是vantUi的弹窗里的内容")]))},d=yt(),f=()=>{d(c(H,null,null),{title:"基础抽屉"})};return(v,u)=>{const p=Se,y=Ae;return k(),S("div",null,[c(p,{type:"primary",onClick:n},{default:h(()=>u[0]||(u[0]=[P("打开弹窗")])),_:1}),c(p,{type:"success",onClick:a},{default:h(()=>u[1]||(u[1]=[P("弹窗外部控制显示/隐藏/销毁(过程中弹窗会自动显示关闭)")])),_:1}),c(p,{type:"success",onClick:r},{default:h(()=>u[2]||(u[2]=[P("三秒后打开")])),_:1}),c(y,null,{default:h(()=>u[3]||(u[3]=[P("抽屉")])),_:1}),c(p,{type:"primary",onClick:f},{default:h(()=>u[4]||(u[4]=[P("打开抽屉")])),_:1}),c(y,null,{default:h(()=>u[5]||(u[5]=[P("VantUiのdemo")])),_:1}),c(p,{type:"success",onClick:o},{default:h(()=>u[6]||(u[6]=[P("打开VantUi弹窗")])),_:1})])}}});export{mn as _,H as a,yt as c};
