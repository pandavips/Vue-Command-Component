import{Y as Ve,a2 as B,ai as Ue,bc as Ye,H as F,b as E,a4 as je,b1 as He,al as Ke,a8 as k,ao as We,an as h,ag as d,aR as ae,R as i,aP as se,au as x,aK as z,aM as Xe,ab as I,a9 as S,aa as Y,as as ee,at as $,aJ as Ze,bg as qe,aQ as le,ac as Ge,aw as Je,bz as Ce,bA as ge,bx as Be,J as M,by as De,bB as Qe,aZ as re,bd as et,w as W,P as Pe,$ as ke,aS as Se,a5 as tt,ad as Ae,U as nt,bC as Ie,_ as K,ah as te,bD as ot,bw as at,bn as $e,ar as P,bE as Oe}from"./index-Bska7HCq.js";import{e as st,f as lt,u as rt,g as ut,E as it,b as ct,c as de}from"./ElementPlusDialog-CrqoZd9h.js";const dt=Ve({...st,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),ft=lt,vt=B({name:"ElDrawer",inheritAttrs:!1}),mt=B({...vt,props:dt,emits:ft,setup(e,{expose:t}){const n=e,a=Ue();Ye({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},F(()=>!!a.title));const o=E(),r=E(),s=je("drawer"),{t:l}=He(),{afterEnter:f,afterLeave:c,beforeLeave:v,visible:u,rendered:m,titleId:y,bodyId:w,zIndex:D,onModalClick:g,onOpenAutoFocus:Z,onCloseAutoFocus:q,onFocusoutPrevented:G,onCloseRequested:J,handleClose:T}=rt(n,o),b=F(()=>n.direction==="rtl"||n.direction==="ltr"),C=F(()=>Ke(n.size));return t({handleClose:T,afterEnter:f,afterLeave:c}),(p,U)=>(k(),We(i(ct),{to:p.appendTo,disabled:p.appendTo!=="body"?!1:!p.appendToBody},{default:h(()=>[d(ae,{name:i(s).b("fade"),onAfterEnter:i(f),onAfterLeave:i(c),onBeforeLeave:i(v),persisted:""},{default:h(()=>[se(d(i(ut),{mask:p.modal,"overlay-class":p.modalClass,"z-index":i(D),onClick:i(g)},{default:h(()=>[d(i(it),{loop:"",trapped:i(u),"focus-trap-el":o.value,"focus-start-el":r.value,onFocusAfterTrapped:i(Z),onFocusAfterReleased:i(q),onFocusoutPrevented:i(G),onReleaseRequested:i(J)},{default:h(()=>[x("div",z({ref_key:"drawerRef",ref:o,"aria-modal":"true","aria-label":p.title||void 0,"aria-labelledby":p.title?void 0:i(y),"aria-describedby":i(w)},p.$attrs,{class:[i(s).b(),p.direction,i(u)&&"open"],style:i(b)?"width: "+i(C):"height: "+i(C),role:"dialog",onClick:Xe(()=>{},["stop"])}),[x("span",{ref_key:"focusStartRef",ref:r,class:I(i(s).e("sr-focus")),tabindex:"-1"},null,2),p.withHeader?(k(),S("header",{key:0,class:I(i(s).e("header"))},[p.$slots.title?Y(p.$slots,"title",{key:1},()=>[$(" DEPRECATED SLOT ")]):Y(p.$slots,"header",{key:0,close:i(T),titleId:i(y),titleClass:i(s).e("title")},()=>[p.$slots.title?$("v-if",!0):(k(),S("span",{key:0,id:i(y),role:"heading","aria-level":p.headerAriaLevel,class:I(i(s).e("title"))},ee(p.title),11,["id","aria-level"]))]),p.showClose?(k(),S("button",{key:2,"aria-label":i(l)("el.drawer.close"),class:I(i(s).e("close-btn")),type:"button",onClick:i(T)},[d(i(Ze),{class:I(i(s).e("close"))},{default:h(()=>[d(i(qe))]),_:1},8,["class"])],10,["aria-label","onClick"])):$("v-if",!0)],2)):$("v-if",!0),i(m)?(k(),S("div",{key:1,id:i(w),class:I(i(s).e("body"))},[Y(p.$slots,"default")],10,["id"])):$("v-if",!0),p.$slots.footer?(k(),S("div",{key:2,class:I(i(s).e("footer"))},[Y(p.$slots,"footer")],2)):$("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[le,i(u)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var pt=Ge(mt,[["__file","drawer.vue"]]);const yt=Je(pt),Et=(e={})=>{const t=M();return(a,o={})=>{const r=E(Ce(e.immediately)?!0:!!e.immediately),s=ge(t,Be(B({setup(){const l=u=>{u(),s.destroy()},f=()=>{s.emit(De.destory)},c=E(),v=()=>{Promise.resolve().then(()=>{s.componentRef=c})};return()=>d(yt,z({ref:c,modelValue:r.value,beforeClose:l,onClosed:f,onVnodeMounted:v},{title:o.title,size:o.size,...o.attrs}),{default:()=>a,...o.slots})}})),{provideProps:o.provideProps||{},appendTo:o.appendTo,visible:r,meta:{...(e==null?void 0:e.meta)||{name:"command-element-plus-drawer"},...(o==null?void 0:o.meta)||{}}});return s}};function bt(){}const ue=Object.assign,ht=typeof window<"u",ie=e=>e!==null&&typeof e=="object",L=e=>e!=null,ne=e=>typeof e=="function",wt=e=>ie(e)&&ne(e.then)&&ne(e.catch),_e=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Ct=()=>ht?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function fe(e,t){const n=t.split(".");let a=e;return n.forEach(o=>{var r;a=ie(a)&&(r=a[o])!=null?r:""}),a}const Te=null,A=[Number,String],_={type:Boolean,default:!0},R=e=>({type:String,default:e});var ce=typeof window<"u";function Fe(e){let t;Pe(()=>{e(),ke(()=>{t=!0})}),Se(()=>{t&&e()})}function Re(e,t,n={}){if(!ce)return;const{target:a=window,passive:o=!1,capture:r=!1}=n;let s=!1,l;const f=u=>{if(s)return;const m=i(u);m&&!l&&(m.addEventListener(e,t,{capture:r,passive:o}),l=!0)},c=u=>{if(s)return;const m=i(u);m&&l&&(m.removeEventListener(e,t,r),l=!1)};Qe(()=>c(a)),re(()=>c(a)),Fe(()=>f(a));let v;return et(a)&&(v=W(a,(u,m)=>{c(m),f(u)})),()=>{v==null||v(),c(a),s=!0}}var j,Q;function gt(){if(!j&&(j=E(0),Q=E(0),ce)){const e=()=>{j.value=window.innerWidth,Q.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:j,height:Q}}var Bt=/scroll|auto|overlay/i,Dt=ce?window:void 0;function Pt(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function kt(e,t=Dt){let n=e;for(;n&&n!==t&&Pt(n);){const{overflowY:a}=window.getComputedStyle(n);if(Bt.test(a))return n;n=n.parentNode}return t}Ct();const St=e=>e.stopPropagation();function ze(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),St(e)}gt();function O(e){if(L(e))return _e(e)?`${e}px`:String(e)}function At(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const It=/-(\w)/g,Le=e=>e.replace(It,(t,n)=>n.toUpperCase()),{hasOwnProperty:$t}=Object.prototype;function Ot(e,t,n){const a=t[n];L(a)&&(!$t.call(e,n)||!ie(a)?e[n]=a:e[n]=Ne(Object(e[n]),a))}function Ne(e,t){return Object.keys(t).forEach(n=>{Ot(e,t,n)}),e}var _t={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const ve=E("zh-CN"),me=tt({"zh-CN":_t}),Tt={messages(){return me[ve.value]},use(e,t){ve.value=e,this.add({[e]:t})},add(e={}){Ne(me,e)}};var Ft=Tt;function Rt(e){const t=Le(e)+".";return(n,...a)=>{const o=Ft.messages(),r=fe(o,t+n)||fe(o,n);return ne(r)?r(...a):r}}function oe(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,a)=>n+oe(e,a),""):Object.keys(t).reduce((n,a)=>n+(t[a]?oe(e,a):""),""):""}function zt(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${oe(t,n)}`)}function V(e){const t=`van-${e}`;return[t,zt(t),Rt(t)]}const Lt="van-haptics-feedback",pe=5;function Nt(e,{args:t=[],done:n,canceled:a,error:o}){if(e){const r=e.apply(null,t);wt(r)?r.then(s=>{s?n():a&&a()}).catch(o||bt):r?n():a&&a()}else n()}function X(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Le(`-${n}`),e))},e}const xt=Symbol();function Mt(e){const t=M();t&&ue(t.proxy,e)}const[Vt,ye]=V("badge"),Ut={dot:Boolean,max:A,tag:R("div"),color:String,offset:Array,content:A,showZero:_,position:R("top-right")};var Yt=B({name:Vt,props:Ut,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:l,showZero:f}=e;return L(l)&&l!==""&&(f||l!==0&&l!=="0")},a=()=>{const{dot:l,max:f,content:c}=e;if(!l&&n())return t.content?t.content():L(f)&&_e(c)&&+c>+f?`${f}+`:c},o=l=>l.startsWith("-")?l.replace("-",""):`-${l}`,r=F(()=>{const l={background:e.color};if(e.offset){const[f,c]=e.offset,{position:v}=e,[u,m]=v.split("-");t.default?(typeof c=="number"?l[u]=O(u==="top"?c:-c):l[u]=u==="top"?O(c):o(c),typeof f=="number"?l[m]=O(m==="left"?f:-f):l[m]=m==="left"?O(f):o(f)):(l.marginTop=O(c),l.marginLeft=O(f))}return l}),s=()=>{if(n()||e.dot)return d("div",{class:ye([e.position,{dot:e.dot,fixed:!!t.default}]),style:r.value},[a()])};return()=>{if(t.default){const{tag:l}=e;return d(l,{class:ye("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const jt=X(Yt);let Ht=2e3;const Kt=()=>++Ht,[Wt,hn]=V("config-provider"),Xt=Symbol(Wt),[Zt,Ee]=V("icon"),qt=e=>e==null?void 0:e.includes("/"),Gt={dot:Boolean,tag:R("i"),name:String,size:A,badge:A,color:String,badgeProps:Object,classPrefix:String};var Jt=B({name:Zt,props:Gt,setup(e,{slots:t}){const n=Ae(Xt,null),a=F(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||Ee());return()=>{const{tag:o,dot:r,name:s,size:l,badge:f,color:c}=e,v=qt(s);return d(jt,z({dot:r,tag:o,class:[a.value,v?"":`${a.value}-${s}`],style:{color:c,fontSize:O(l)},content:f},e.badgeProps),{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t),v&&d("img",{class:Ee("image"),src:s},null)]}})}}});const Qt=X(Jt),en={show:Boolean,zIndex:A,overlay:_,duration:A,teleport:[String,Object],lockScroll:_,lazyRender:_,beforeClose:Function,overlayStyle:Object,overlayClass:Te,transitionAppear:Boolean,closeOnClickOverlay:_};function tn(e,t){return e>t?"horizontal":t>e?"vertical":""}function nn(){const e=E(0),t=E(0),n=E(0),a=E(0),o=E(0),r=E(0),s=E(""),l=E(!0),f=()=>s.value==="vertical",c=()=>s.value==="horizontal",v=()=>{n.value=0,a.value=0,o.value=0,r.value=0,s.value="",l.value=!0};return{move:y=>{const w=y.touches[0];n.value=(w.clientX<0?0:w.clientX)-e.value,a.value=w.clientY-t.value,o.value=Math.abs(n.value),r.value=Math.abs(a.value);const D=10;(!s.value||o.value<D&&r.value<D)&&(s.value=tn(o.value,r.value)),l.value&&(o.value>pe||r.value>pe)&&(l.value=!1)},start:y=>{v(),e.value=y.touches[0].clientX,t.value=y.touches[0].clientY},reset:v,startX:e,startY:t,deltaX:n,deltaY:a,offsetX:o,offsetY:r,direction:s,isVertical:f,isHorizontal:c,isTap:l}}let N=0;const be="van-overflow-hidden";function on(e,t){const n=nn(),a="01",o="10",r=v=>{n.move(v);const u=n.deltaY.value>0?o:a,m=kt(v.target,e.value),{scrollHeight:y,offsetHeight:w,scrollTop:D}=m;let g="11";D===0?g=w>=y?"00":"01":D+w>=y&&(g="10"),g!=="11"&&n.isVertical()&&!(parseInt(g,2)&parseInt(u,2))&&ze(v)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,{passive:!1}),N||document.body.classList.add(be),N++},l=()=>{N&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),N--,N||document.body.classList.remove(be))},f=()=>t()&&s(),c=()=>t()&&l();Fe(f),re(c),nt(c),W(t,v=>{v?s():l()})}function xe(e){const t=E(!1);return W(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const he=()=>{var e;const{scopeId:t}=((e=M())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[an,sn]=V("overlay"),ln={show:Boolean,zIndex:A,duration:A,className:Te,lockScroll:_,lazyRender:_,customStyle:Object,teleport:[String,Object]};var rn=B({name:an,props:ln,setup(e,{slots:t}){const n=E(),a=xe(()=>e.show||!e.lazyRender),o=s=>{e.lockScroll&&ze(s)},r=a(()=>{var s;const l=ue(At(e.zIndex),e.customStyle);return L(e.duration)&&(l.animationDuration=`${e.duration}s`),se(d("div",{ref:n,style:l,class:[sn(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[le,e.show]])});return Re("touchmove",o,{target:n}),()=>{const s=d(ae,{name:"van-fade",appear:!0},{default:r});return e.teleport?d(Ie,{to:e.teleport},{default:()=>[s]}):s}}});const un=X(rn),cn=ue({},en,{round:Boolean,position:R("center"),closeIcon:R("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:R("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[dn,we]=V("popup");var fn=B({name:dn,inheritAttrs:!1,props:cn,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:a}){let o,r;const s=E(),l=E(),f=xe(()=>e.show||!e.lazyRender),c=F(()=>{const b={zIndex:s.value};if(L(e.duration)){const C=e.position==="center"?"animationDuration":"transitionDuration";b[C]=`${e.duration}s`}return b}),v=()=>{o||(o=!0,s.value=e.zIndex!==void 0?+e.zIndex:Kt(),t("open"))},u=()=>{o&&Nt(e.beforeClose,{done(){o=!1,t("close"),t("update:show",!1)}})},m=b=>{t("clickOverlay",b),e.closeOnClickOverlay&&u()},y=()=>{if(e.overlay)return d(un,z({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},he(),{onClick:m}),{default:a["overlay-content"]})},w=b=>{t("clickCloseIcon",b),u()},D=()=>{if(e.closeable)return d(Qt,{role:"button",tabindex:0,name:e.closeIcon,class:[we("close-icon",e.closeIconPosition),Lt],classPrefix:e.iconPrefix,onClick:w},null)};let g;const Z=()=>{g&&clearTimeout(g),g=setTimeout(()=>{t("opened")})},q=()=>t("closed"),G=b=>t("keydown",b),J=f(()=>{var b;const{round:C,position:p,safeAreaInsetTop:U,safeAreaInsetBottom:Me}=e;return se(d("div",z({ref:l,style:c.value,role:"dialog",tabindex:0,class:[we({round:C,[p]:p}),{"van-safe-area-top":U,"van-safe-area-bottom":Me}],onKeydown:G},n,he()),[(b=a.default)==null?void 0:b.call(a),D()]),[[le,e.show]])}),T=()=>{const{position:b,transition:C,transitionAppear:p}=e,U=b==="center"?"van-fade":`van-popup-slide-${b}`;return d(ae,{name:C||U,appear:p,onAfterEnter:Z,onAfterLeave:q},{default:J})};return W(()=>e.show,b=>{b&&!o&&(v(),n.tabindex===0&&ke(()=>{var C;(C=l.value)==null||C.focus()})),!b&&o&&(o=!1,t("close"))}),Mt({popupRef:l}),on(l,()=>e.show&&e.lockScroll),Re("popstate",()=>{e.closeOnPopstate&&(u(),r=!1)}),Pe(()=>{e.show&&v()}),Se(()=>{r&&(t("update:show",!0),r=!1)}),re(()=>{e.show&&e.teleport&&(u(),r=!0)}),K(xt,()=>e.show),()=>e.teleport?d(Ie,{to:e.teleport},{default:()=>[y(),T()]}):d(te,null,[y(),T()])}});const vn=X(fn),mn={round:!0,lockScroll:!0,closeable:!0,style:{backgroundColor:"#fff",color:"#000"}},pn=(e={})=>{const t=M();return(a,o={})=>{const r=E(Ce(e.immediately)?!0:!!e.immediately),s=ge(t,Be(B({setup(){const l=()=>{s.destroy()},f=()=>{s.emit(De.destory)},c=E(),v=()=>{Promise.resolve().then(()=>{s.componentRef=c})};return()=>d(vn,z({ref:c,show:r.value,onClickCloseIcon:l,onClosed:f,onVnodeMounted:v},{...mn,...o.attrs}),{default:()=>a,...o.slots})}})),{provideProps:o.provideProps||{},appendTo:o.appendTo,visible:r,meta:{...(e==null?void 0:e.meta)||{name:"command-vant-ui-popup"},...(o==null?void 0:o.meta)||{}}});return s}},H=B({__name:"Content",setup(e){const t=ot().query.nested==="true";K("content","来自Content的🩷~");const n=Ae("depth",0);K("depth",n+1);const a=at();window.dialogStack=a.stack;const o=M(),r=E();return Promise.resolve().then(()=>{r.value={...o==null?void 0:o.appContext.provides,...o.provides}}),(s,l)=>{const f=Oe,c=$e;return k(),S(te,null,[d(f),l[2]||(l[2]=x("h3",null,"接收到的注入数据",-1)),x("div",null,ee(r.value),1),d(f),d(c,{onClick:l[0]||(l[0]=v=>i(a).destroy())},{default:h(()=>l[1]||(l[1]=[P("弹窗内部控制关闭")])),_:1}),t?(k(),S(te,{key:0},[d(f),x("h4",null,"弹窗深度:"+ee(i(n)),1),d(yn)],64)):$("",!0)],64)}}}),yn=B({__name:"index",setup(e){K("base","来自base的🩷");const t=de(),n=()=>{t(d(H,null,null),{title:"基础用法"})},a=()=>{const{hide:v,show:u,destroyWithResolve:m}=t(d(H,null,null),{title:"外部控制"});[2,4,6].forEach(y=>{setTimeout(()=>{y===2&&v(),y===4&&u(),y===6&&m()},y*1e3)})},o=de({immediately:!1}),r=()=>{const{show:v}=o(d(H,null,null),{title:"三秒后打开"});setTimeout(()=>{v()},3e3)},s=pn(),l=()=>{s(d("div",{style:"color: red; height: 30vh;padding: 20px;"},[P("我是vantUi的弹窗里的内容")]))},f=Et(),c=()=>{f(d(H,null,null),{title:"基础抽屉"})};return(v,u)=>{const m=$e,y=Oe;return k(),S("div",null,[d(m,{type:"primary",onClick:n},{default:h(()=>u[0]||(u[0]=[P("打开弹窗")])),_:1}),d(m,{type:"success",onClick:a},{default:h(()=>u[1]||(u[1]=[P("弹窗外部控制显示/隐藏/销毁(过程中弹窗会自动显示关闭)")])),_:1}),d(m,{type:"success",onClick:r},{default:h(()=>u[2]||(u[2]=[P("三秒后打开")])),_:1}),d(y,null,{default:h(()=>u[3]||(u[3]=[P("抽屉")])),_:1}),d(m,{type:"primary",onClick:c},{default:h(()=>u[4]||(u[4]=[P("打开抽屉")])),_:1}),d(y,null,{default:h(()=>u[5]||(u[5]=[P("VantUiのdemo")])),_:1}),d(m,{type:"success",onClick:l},{default:h(()=>u[6]||(u[6]=[P("打开VantUi弹窗")])),_:1})])}}});export{yn as _,H as a,Et as c};
