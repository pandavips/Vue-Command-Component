import{f as J,h as kt,a as A,d as ft,p as F,i as pt,g as Q,j as Bt,r as X,m as Dt,n as Mt}from"./index-ChOSWIHi.js";import{u as Ft,E as Rt}from"./index-DHtOwdeB.js";var Nt=Object.defineProperty,$t=(t,e,r)=>e in t?Nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ut=(t,e,r)=>$t(t,e+"",r);class Wt{constructor(){Ut(this,"map",new WeakMap)}getEventsMapByConsumer(e){let r=this.map.get(e);return r||(r=new Map,this.map.set(e,r)),r}getEventsByConsumer(e,r){const n=this.getEventsMapByConsumer(e);let o=n.get(r);return o||(o=new Set,n.set(r,o)),o}on(e,r,n,o={}){const c=this.getEventsByConsumer(e,r);let a=n;o.once&&(a=(...i)=>{n(...i),this.off(e,r,a)}),c.add(a),o.callAfterDelay!==void 0&&setTimeout(()=>{a()},o.callAfterDelay||0)}once(e,r,n){this.on(e,r,n,{once:!0})}emit(e,r,...n){this.getEventsByConsumer(e,r).forEach(o=>o(...n))}off(e,r,n){this.getEventsByConsumer(e,r).delete(n)}}const Kt=(t="")=>t.slice(2).toLowerCase(),Y=(t="")=>`on${t.charAt(0).toUpperCase()}${t.slice(1)}`,Vt=()=>{let t=()=>{},e=()=>{};return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}},Gt=t=>{var e;const r=((e=t.parentElement)==null?void 0:e.children)||[];let n=0;return Array.from(r).forEach(o=>{if(o!==t){const c=parseInt(window.getComputedStyle(o).zIndex);!isNaN(c)&&c>n&&(n=c)}}),n};var _=(t=>(t.confirm="confirm",t.cancel="cancel",t.destory="destory",t))(_||{});const vt=Symbol("CommandDialogConsumerInjectKey"),Z=Symbol("CommandDialogStackInjectKey"),E=new Wt,dt=t=>({...t.parent?dt(t.parent):{},...t.provides});function Lt(t,e,r){const n=(typeof r.appendTo=="string"?document.querySelector(r.appendTo):r.appendTo)||document.body,o=document.createElement("div");o.className="command-commponent-container",n.appendChild(o);const c=Gt(o);o.style.position="relative",o.style.zIndex=String(c+1);const a=()=>{r.visible.value=!1},i=()=>{r.visible.value=!0},u=()=>{Mt(()=>{Q(null,o),o.remove()})},l=(f=!1)=>{f?(v.on(_.destory,u,{once:!0,callAfterDelay:3e3}),a()):v.stack.splice(v.stackIndex).forEach(d=>d.destroy(!0))},{promise:p,resolve:y,reject:j}=Vt(),v={promise:p,resolve:y,reject:j,destroyWithResolve:f=>{y(f),l()},destroyWithReject:f=>{j(f),l()},hide:a,show:i,destroy:l,container:o,visible:r.visible,on:(f,d,It={})=>E.on(v,f,d,It),once:(f,d)=>E.once(v,f,d),emit:(f,...d)=>E.emit(v,f,...d),off:(f,d)=>E.off(v,f,d),stack:[],stackIndex:-1,componentRef:void 0},b=A(ft({setup(){for(const d in r.provideProps)F(d,r.provideProps[d]);F(vt,v);const f=pt(Z,[]);return v.stackIndex=f.length,f.push(v),F(Z,f),v.stack=f,()=>e}}),null,null);return b.appContext=(t==null?void 0:t.appContext)||b.appContext,b.appContext.provides={...b.appContext.provides,...dt(t)},Q(b,o),v}const On=(t=!0)=>{const e=()=>t&&console.warn(`别调用了欧尼酱~,这会儿没啥实际用途;没有根据CommandDialogInjectKey接收到注入数据.原因可能有两个:
    1.你可能对getCommandDialogConsumer进行了异步调用或条件调用,请在setup中直接调用.
    2.你没有在命令弹窗内展示该组件,这个时候你一般可以忽略该警告消息.`);return pt(vt,()=>new Proxy({},{get:()=>e,apply:e}),!0)},wn=(t=!0)=>{const e=Bt(),{locale:{t:r}}=Ft("message-box");return(n,o={})=>{const c=J(t),a=Lt(e,kt(ft({setup(){const i=J(),u=y=>{y(),a.destroy()},l=()=>{a.emit(_.destory)},p=()=>{Promise.resolve().then(()=>{a.componentRef=i})};return()=>A(Rt,Dt({ref:i,modelValue:c.value,beforeClose:u,onClosed:l,onVnodeMounted:p},{title:o.title,width:o.width,...o.attrs}),{default:()=>n,footer:()=>A("div",null,[o[Y(_.cancel)]&&A(X("el-button"),{onClick:()=>a.emit(_.cancel)},{default:()=>[o.cancelBtnText||r("el.messagebox.cancel")]}),o[Y(_.confirm)]&&A(X("el-button"),{type:"primary",onClick:()=>a.emit(_.confirm)},{default:()=>[o.confirmBtnText||r("el.messagebox.confirm")]})]),...o.slots})}})),{provideProps:o.provideProps||{},appendTo:o.appendTo,visible:c});return Object.entries(o).filter(([i,u])=>i.startsWith("on")&&typeof u=="function").forEach(([i,u])=>{const l=Kt(i);a.on(l,u)}),a}};var yt=typeof global=="object"&&global&&global.Object===Object&&global,qt=typeof self=="object"&&self&&self.Object===Object&&self,O=yt||qt||Function("return this")(),T=O.Symbol,ht=Object.prototype,Jt=ht.hasOwnProperty,Qt=ht.toString,C=T?T.toStringTag:void 0;function Xt(t){var e=Jt.call(t,C),r=t[C];try{t[C]=void 0;var n=!0}catch{}var o=Qt.call(t);return n&&(e?t[C]=r:delete t[C]),o}var Yt=Object.prototype,Zt=Yt.toString;function Ht(t){return Zt.call(t)}var te="[object Null]",ee="[object Undefined]",H=T?T.toStringTag:void 0;function k(t){return t==null?t===void 0?ee:te:H&&H in Object(t)?Xt(t):Ht(t)}function S(t){return t!=null&&typeof t=="object"}var $=Array.isArray;function g(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function bt(t){return t}var re="[object AsyncFunction]",ne="[object Function]",oe="[object GeneratorFunction]",ie="[object Proxy]";function V(t){if(!g(t))return!1;var e=k(t);return e==ne||e==oe||e==re||e==ie}var R=O["__core-js_shared__"],tt=function(){var t=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ae(t){return!!tt&&tt in t}var ce=Function.prototype,ue=ce.toString;function se(t){if(t!=null){try{return ue.call(t)}catch{}try{return t+""}catch{}}return""}var le=/[\\^$.*+?()[\]{}|]/g,fe=/^\[object .+?Constructor\]$/,pe=Function.prototype,ve=Object.prototype,de=pe.toString,ye=ve.hasOwnProperty,he=RegExp("^"+de.call(ye).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function be(t){if(!g(t)||ae(t))return!1;var e=V(t)?he:fe;return e.test(se(t))}function _e(t,e){return t==null?void 0:t[e]}function G(t,e){var r=_e(t,e);return be(r)?r:void 0}var et=Object.create,me=function(){function t(){}return function(e){if(!g(e))return{};if(et)return et(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function ge(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function je(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Oe=800,we=16,xe=Date.now;function Ce(t){var e=0,r=0;return function(){var n=xe(),o=we-(n-r);if(r=n,o>0){if(++e>=Oe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ae(t){return function(){return t}}var I=function(){try{var t=G(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Pe=I?function(t,e){return I(t,"toString",{configurable:!0,enumerable:!1,value:Ae(e),writable:!0})}:bt,ze=Ce(Pe),Se=9007199254740991,Ee=/^(?:0|[1-9]\d*)$/;function _t(t,e){var r=typeof t;return e=e??Se,!!e&&(r=="number"||r!="symbol"&&Ee.test(t))&&t>-1&&t%1==0&&t<e}function L(t,e,r){e=="__proto__"&&I?I(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function B(t,e){return t===e||t!==t&&e!==e}var Te=Object.prototype,Ie=Te.hasOwnProperty;function ke(t,e,r){var n=t[e];(!(Ie.call(t,e)&&B(n,r))||r===void 0&&!(e in t))&&L(t,e,r)}function Be(t,e,r,n){var o=!r;r||(r={});for(var c=-1,a=e.length;++c<a;){var i=e[c],u=void 0;u===void 0&&(u=t[i]),o?L(r,i,u):ke(r,i,u)}return r}var rt=Math.max;function De(t,e,r){return e=rt(e===void 0?t.length-1:e,0),function(){for(var n=arguments,o=-1,c=rt(n.length-e,0),a=Array(c);++o<c;)a[o]=n[e+o];o=-1;for(var i=Array(e+1);++o<e;)i[o]=n[o];return i[e]=r(a),ge(t,this,i)}}function Me(t,e){return ze(De(t,e,bt),t+"")}var Fe=9007199254740991;function mt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Fe}function q(t){return t!=null&&mt(t.length)&&!V(t)}function Re(t,e,r){if(!g(r))return!1;var n=typeof e;return(n=="number"?q(r)&&_t(e,r.length):n=="string"&&e in r)?B(r[e],t):!1}function Ne(t){return Me(function(e,r){var n=-1,o=r.length,c=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(c=t.length>3&&typeof c=="function"?(o--,c):void 0,a&&Re(r[0],r[1],a)&&(c=o<3?void 0:c,o=1),e=Object(e);++n<o;){var i=r[n];i&&t(e,i,n,c)}return e})}var $e=Object.prototype;function gt(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||$e;return t===r}function Ue(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var We="[object Arguments]";function nt(t){return S(t)&&k(t)==We}var jt=Object.prototype,Ke=jt.hasOwnProperty,Ve=jt.propertyIsEnumerable,U=nt(function(){return arguments}())?nt:function(t){return S(t)&&Ke.call(t,"callee")&&!Ve.call(t,"callee")};function Ge(){return!1}var Ot=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ot=Ot&&typeof module=="object"&&module&&!module.nodeType&&module,Le=ot&&ot.exports===Ot,it=Le?O.Buffer:void 0,qe=it?it.isBuffer:void 0,wt=qe||Ge,Je="[object Arguments]",Qe="[object Array]",Xe="[object Boolean]",Ye="[object Date]",Ze="[object Error]",He="[object Function]",tr="[object Map]",er="[object Number]",rr="[object Object]",nr="[object RegExp]",or="[object Set]",ir="[object String]",ar="[object WeakMap]",cr="[object ArrayBuffer]",ur="[object DataView]",sr="[object Float32Array]",lr="[object Float64Array]",fr="[object Int8Array]",pr="[object Int16Array]",vr="[object Int32Array]",dr="[object Uint8Array]",yr="[object Uint8ClampedArray]",hr="[object Uint16Array]",br="[object Uint32Array]",s={};s[sr]=s[lr]=s[fr]=s[pr]=s[vr]=s[dr]=s[yr]=s[hr]=s[br]=!0;s[Je]=s[Qe]=s[cr]=s[Xe]=s[ur]=s[Ye]=s[Ze]=s[He]=s[tr]=s[er]=s[rr]=s[nr]=s[or]=s[ir]=s[ar]=!1;function _r(t){return S(t)&&mt(t.length)&&!!s[k(t)]}function mr(t){return function(e){return t(e)}}var xt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,P=xt&&typeof module=="object"&&module&&!module.nodeType&&module,gr=P&&P.exports===xt,N=gr&&yt.process,at=function(){try{var t=P&&P.require&&P.require("util").types;return t||N&&N.binding&&N.binding("util")}catch{}}(),ct=at&&at.isTypedArray,Ct=ct?mr(ct):_r;function jr(t,e){var r=$(t),n=!r&&U(t),o=!r&&!n&&wt(t),c=!r&&!n&&!o&&Ct(t),a=r||n||o||c,i=a?Ue(t.length,String):[],u=i.length;for(var l in t)a&&(l=="length"||o&&(l=="offset"||l=="parent")||c&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||_t(l,u))||i.push(l);return i}function Or(t,e){return function(r){return t(e(r))}}function wr(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var xr=Object.prototype,Cr=xr.hasOwnProperty;function Ar(t){if(!g(t))return wr(t);var e=gt(t),r=[];for(var n in t)n=="constructor"&&(e||!Cr.call(t,n))||r.push(n);return r}function At(t){return q(t)?jr(t):Ar(t)}var z=G(Object,"create");function Pr(){this.__data__=z?z(null):{},this.size=0}function zr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Sr="__lodash_hash_undefined__",Er=Object.prototype,Tr=Er.hasOwnProperty;function Ir(t){var e=this.__data__;if(z){var r=e[t];return r===Sr?void 0:r}return Tr.call(e,t)?e[t]:void 0}var kr=Object.prototype,Br=kr.hasOwnProperty;function Dr(t){var e=this.__data__;return z?e[t]!==void 0:Br.call(e,t)}var Mr="__lodash_hash_undefined__";function Fr(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=z&&e===void 0?Mr:e,this}function m(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}m.prototype.clear=Pr;m.prototype.delete=zr;m.prototype.get=Ir;m.prototype.has=Dr;m.prototype.set=Fr;function Rr(){this.__data__=[],this.size=0}function D(t,e){for(var r=t.length;r--;)if(B(t[r][0],e))return r;return-1}var Nr=Array.prototype,$r=Nr.splice;function Ur(t){var e=this.__data__,r=D(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():$r.call(e,r,1),--this.size,!0}function Wr(t){var e=this.__data__,r=D(e,t);return r<0?void 0:e[r][1]}function Kr(t){return D(this.__data__,t)>-1}function Vr(t,e){var r=this.__data__,n=D(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function h(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}h.prototype.clear=Rr;h.prototype.delete=Ur;h.prototype.get=Wr;h.prototype.has=Kr;h.prototype.set=Vr;var Pt=G(O,"Map");function Gr(){this.size=0,this.__data__={hash:new m,map:new(Pt||h),string:new m}}function Lr(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function M(t,e){var r=t.__data__;return Lr(e)?r[typeof e=="string"?"string":"hash"]:r.map}function qr(t){var e=M(this,t).delete(t);return this.size-=e?1:0,e}function Jr(t){return M(this,t).get(t)}function Qr(t){return M(this,t).has(t)}function Xr(t,e){var r=M(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function w(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}w.prototype.clear=Gr;w.prototype.delete=qr;w.prototype.get=Jr;w.prototype.has=Qr;w.prototype.set=Xr;var zt=Or(Object.getPrototypeOf,Object),Yr="[object Object]",Zr=Function.prototype,Hr=Object.prototype,St=Zr.toString,tn=Hr.hasOwnProperty,en=St.call(Object);function rn(t){if(!S(t)||k(t)!=Yr)return!1;var e=zt(t);if(e===null)return!0;var r=tn.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&St.call(r)==en}function nn(){this.__data__=new h,this.size=0}function on(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function an(t){return this.__data__.get(t)}function cn(t){return this.__data__.has(t)}var un=200;function sn(t,e){var r=this.__data__;if(r instanceof h){var n=r.__data__;if(!Pt||n.length<un-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new w(n)}return r.set(t,e),this.size=r.size,this}function x(t){var e=this.__data__=new h(t);this.size=e.size}x.prototype.clear=nn;x.prototype.delete=on;x.prototype.get=an;x.prototype.has=cn;x.prototype.set=sn;var Et=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ut=Et&&typeof module=="object"&&module&&!module.nodeType&&module,ln=ut&&ut.exports===Et,st=ln?O.Buffer:void 0;st&&st.allocUnsafe;function fn(t,e){return t.slice()}var lt=O.Uint8Array;function pn(t){var e=new t.constructor(t.byteLength);return new lt(e).set(new lt(t)),e}function vn(t,e){var r=pn(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function dn(t){return typeof t.constructor=="function"&&!gt(t)?me(zt(t)):{}}function yn(t){return function(e,r,n){for(var o=-1,c=Object(e),a=n(e),i=a.length;i--;){var u=a[++o];if(r(c[u],u,c)===!1)break}return e}}var hn=yn();function W(t,e,r){(r!==void 0&&!B(t[e],r)||r===void 0&&!(e in t))&&L(t,e,r)}function bn(t){return S(t)&&q(t)}function K(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function _n(t){return Be(t,At(t))}function mn(t,e,r,n,o,c,a){var i=K(t,r),u=K(e,r),l=a.get(u);if(l){W(t,r,l);return}var p=c?c(i,u,r+"",t,e,a):void 0,y=p===void 0;if(y){var j=$(u),v=!j&&wt(u),b=!j&&!v&&Ct(u);p=u,j||v||b?$(i)?p=i:bn(i)?p=je(i):v?(y=!1,p=fn(u)):b?(y=!1,p=vn(u)):p=[]:rn(u)||U(u)?(p=i,U(i)?p=_n(i):(!g(i)||V(i))&&(p=dn(u))):y=!1}y&&(a.set(u,p),o(p,u,n,c,a),a.delete(u)),W(t,r,p)}function Tt(t,e,r,n,o){t!==e&&hn(e,function(c,a){if(o||(o=new x),g(c))mn(t,e,a,r,Tt,n,o);else{var i=n?n(K(t,a),c,a+"",t,e,o):void 0;i===void 0&&(i=c),W(t,a,i)}},At)}Ne(function(t,e,r){Tt(t,e,r)});export{wn as D,On as E};
