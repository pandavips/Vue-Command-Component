import{e as V,O as Be,P as X,bo as $e,U as ee,al as ue,bd as Ue,a4 as de,H as M,bi as pe,w as K,b5 as He,bD as Ye,bE as Ke,bF as Ve,aN as se,b as k,ac as te,a2 as U,_ as Ae,R as l,aH as ze,aa as S,$ as ce,a1 as We,Y as oe,N as W,a8 as $,ao as Z,bA as Xe,aw as _e,ag as z,bx as je,az as Ge,b1 as qe,ad as me,a9 as ae,au as J,ab as F,as as xe,an as P,ap as Je,aJ as Qe,at as ie,aq as ke,bG as Ze,Q as et,aX as tt,aj as Ee,bH as ot,bI as nt,J as st,bJ as ye,ai as at,bc as lt,aR as rt,aP as ut,aK as ct,bK as it,aQ as dt}from"./index-CNGc4wGV.js";function ft(e){return e===void 0}class vt extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function pt(e,t){throw new vt(`[${e}] ${t}`)}function Qt(e,t){}let j;const mt=e=>{var t;if(!V)return 0;if(j!==void 0)return j;const o=document.createElement("div");o.className=`${e}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const s=o.offsetWidth;o.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",o.appendChild(a);const r=a.offsetWidth;return(t=o.parentNode)==null||t.removeChild(o),j=s-r,j};function Zt(e,t){if(!V)return;if(!t){e.scrollTop=0;return}const o=[];let s=t.offsetParent;for(;s!==null&&e!==s&&e.contains(s);)o.push(s),s=s.offsetParent;const a=t.offsetTop+o.reduce((f,p)=>f+p.offsetTop,0),r=a+t.offsetHeight,u=e.scrollTop,v=u+e.clientHeight;a<u?e.scrollTop=a:r>v&&(e.scrollTop=r-e.clientHeight)}const Et=(...e)=>t=>{e.forEach(o=>{Be(o)?o(t):o.value=t})},De={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Oe="update:modelValue",eo="change",to="input";var Q=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Q||{});const yt=(e,t,o,s)=>{let a={offsetX:0,offsetY:0};const r=p=>{const b=p.clientX,C=p.clientY,{offsetX:g,offsetY:y}=a,n=e.value.getBoundingClientRect(),i=n.left,d=n.top,m=n.width,E=n.height,I=document.documentElement.clientWidth,N=document.documentElement.clientHeight,D=-i+g,O=-d+y,h=I-i-m+g,L=N-d-E+y,A=c=>{let T=g+c.clientX-b,H=y+c.clientY-C;s!=null&&s.value||(T=Math.min(Math.max(T,D),h),H=Math.min(Math.max(H,O),L)),a={offsetX:T,offsetY:H},e.value&&(e.value.style.transform=`translate(${ue(T)}, ${ue(H)})`)},_=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",_)},u=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",r)},v=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",r)},f=()=>{a={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return X(()=>{$e(()=>{o.value?u():v()})}),ee(()=>{v()}),{resetPosition:f}},bt=(e,t={})=>{Ue(e)||pt("[useLockscreen]","You need to pass a ref param to this function");const o=t.ns||de("popup"),s=M(()=>o.bm("parent","hidden"));if(!V||pe(document.body,s.value))return;let a=0,r=!1,u="0";const v=()=>{setTimeout(()=>{Ve(document==null?void 0:document.body,s.value),r&&document&&(document.body.style.width=u)},200)};K(e,f=>{if(!f){v();return}r=!pe(document.body,s.value),r&&(u=document.body.style.width),a=mt(o.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,b=He(document.body,"overflowY");a>0&&(p||b==="scroll")&&r&&(document.body.style.width=`calc(100% - ${a}px)`),Ye(document.body,s.value)}),Ke(()=>v())},Ie=e=>{if(!e)return{onClick:se,onMousedown:se,onMouseup:se};let t=!1,o=!1;return{onClick:u=>{t&&o&&e(u),t=o=!1},onMousedown:u=>{t=u.target===u.currentTarget},onMouseup:u=>{o=u.target===u.currentTarget}}};let Y=[];const be=e=>{const t=e;t.key===De.esc&&Y.forEach(o=>o(t))},Tt=e=>{X(()=>{Y.length===0&&document.addEventListener("keydown",be),V&&Y.push(e)}),ee(()=>{Y=Y.filter(t=>t!==e),Y.length===0&&V&&document.removeEventListener("keydown",be)})},le="focus-trap.focus-after-trapped",re="focus-trap.focus-after-released",Ct="focus-trap.focusout-prevented",Te={cancelable:!0,bubbles:!1},gt={cancelable:!0,bubbles:!1},Ce="focusAfterTrapped",ge="focusAfterReleased",Ne=Symbol("elFocusTrap"),fe=k(),ne=k(0),ve=k(0);let G=0;const Fe=e=>{const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0||s===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t},he=(e,t)=>{for(const o of e)if(!ht(o,t))return o},ht=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},wt=e=>{const t=Fe(e),o=he(t,e),s=he(t.reverse(),e);return[o,s]},St=e=>e instanceof HTMLInputElement&&"select"in e,R=(e,t)=>{if(e&&e.focus){const o=document.activeElement;e.focus({preventScroll:!0}),ve.value=window.performance.now(),e!==o&&St(e)&&t&&e.select()}};function we(e,t){const o=[...e],s=e.indexOf(t);return s!==-1&&o.splice(s,1),o}const Lt=()=>{let e=[];return{push:s=>{const a=e[0];a&&s!==a&&a.pause(),e=we(e,s),e.unshift(s)},remove:s=>{var a,r;e=we(e,s),(r=(a=e[0])==null?void 0:a.resume)==null||r.call(a)}}},At=(e,t=!1)=>{const o=document.activeElement;for(const s of e)if(R(s,t),document.activeElement!==o)return},Se=Lt(),_t=()=>ne.value>ve.value,q=()=>{fe.value="pointer",ne.value=window.performance.now()},Le=()=>{fe.value="keyboard",ne.value=window.performance.now()},kt=()=>(X(()=>{G===0&&(document.addEventListener("mousedown",q),document.addEventListener("touchstart",q),document.addEventListener("keydown",Le)),G++}),ee(()=>{G--,G<=0&&(document.removeEventListener("mousedown",q),document.removeEventListener("touchstart",q),document.removeEventListener("keydown",Le))}),{focusReason:fe,lastUserFocusTimestamp:ne,lastAutomatedFocusTimestamp:ve}),x=e=>new CustomEvent(Ct,{...gt,detail:e}),Dt=U({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Ce,ge,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const o=k();let s,a;const{focusReason:r}=kt();Tt(n=>{e.trapped&&!u.paused&&t("release-requested",n)});const u={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},v=n=>{if(!e.loop&&!e.trapped||u.paused)return;const{key:i,altKey:d,ctrlKey:m,metaKey:E,currentTarget:I,shiftKey:N}=n,{loop:D}=e,O=i===De.tab&&!d&&!m&&!E,h=document.activeElement;if(O&&h){const L=I,[A,_]=wt(L);if(A&&_){if(!N&&h===_){const T=x({focusReason:r.value});t("focusout-prevented",T),T.defaultPrevented||(n.preventDefault(),D&&R(A,!0))}else if(N&&[A,L].includes(h)){const T=x({focusReason:r.value});t("focusout-prevented",T),T.defaultPrevented||(n.preventDefault(),D&&R(_,!0))}}else if(h===L){const T=x({focusReason:r.value});t("focusout-prevented",T),T.defaultPrevented||n.preventDefault()}}};Ae(Ne,{focusTrapRef:o,onKeydown:v}),K(()=>e.focusTrapEl,n=>{n&&(o.value=n)},{immediate:!0}),K([o],([n],[i])=>{n&&(n.addEventListener("keydown",v),n.addEventListener("focusin",b),n.addEventListener("focusout",C)),i&&(i.removeEventListener("keydown",v),i.removeEventListener("focusin",b),i.removeEventListener("focusout",C))});const f=n=>{t(Ce,n)},p=n=>t(ge,n),b=n=>{const i=l(o);if(!i)return;const d=n.target,m=n.relatedTarget,E=d&&i.contains(d);e.trapped||m&&i.contains(m)||(s=m),E&&t("focusin",n),!u.paused&&e.trapped&&(E?a=d:R(a,!0))},C=n=>{const i=l(o);if(!(u.paused||!i))if(e.trapped){const d=n.relatedTarget;!ze(d)&&!i.contains(d)&&setTimeout(()=>{if(!u.paused&&e.trapped){const m=x({focusReason:r.value});t("focusout-prevented",m),m.defaultPrevented||R(a,!0)}},0)}else{const d=n.target;d&&i.contains(d)||t("focusout",n)}};async function g(){await ce();const n=l(o);if(n){Se.push(u);const i=n.contains(document.activeElement)?s:document.activeElement;if(s=i,!n.contains(i)){const m=new Event(le,Te);n.addEventListener(le,f),n.dispatchEvent(m),m.defaultPrevented||ce(()=>{let E=e.focusStartEl;We(E)||(R(E),document.activeElement!==E&&(E="first")),E==="first"&&At(Fe(n),!0),(document.activeElement===i||E==="container")&&R(n)})}}}function y(){const n=l(o);if(n){n.removeEventListener(le,f);const i=new CustomEvent(re,{...Te,detail:{focusReason:r.value}});n.addEventListener(re,p),n.dispatchEvent(i),!i.defaultPrevented&&(r.value=="keyboard"||!_t()||n.contains(document.activeElement))&&R(s??document.body),n.removeEventListener(re,p),Se.remove(u)}}return X(()=>{e.trapped&&g(),K(()=>e.trapped,n=>{n?g():y()})}),ee(()=>{e.trapped&&y(),o.value&&(o.value.removeEventListener("keydown",v),o.value.removeEventListener("focusin",b),o.value.removeEventListener("focusout",C),o.value=void 0)}),{onKeydown:v}}});function Ot(e,t,o,s,a,r){return S(e.$slots,"default",{handleKeydown:e.onKeydown})}var It=te(Dt,[["render",Ot],["__file","focus-trap.vue"]]);const Nt=oe({to:{type:W([String,Object]),required:!0},disabled:Boolean}),Ft=U({__name:"teleport",props:Nt,setup(e){return(t,o)=>t.disabled?S(t.$slots,"default",{key:0}):($(),Z(Xe,{key:1,to:t.to},[S(t.$slots,"default")],8,["to"]))}});var Pt=te(Ft,[["__file","teleport.vue"]]);const Rt=_e(Pt),Mt=oe({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:W([String,Array,Object])},zIndex:{type:W([String,Number])}}),Bt={click:e=>e instanceof MouseEvent},$t="overlay";var Ut=U({name:"ElOverlay",props:Mt,emits:Bt,setup(e,{slots:t,emit:o}){const s=de($t),a=f=>{o("click",f)},{onClick:r,onMousedown:u,onMouseup:v}=Ie(e.customMaskEvent?void 0:a);return()=>e.mask?z("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:r,onMousedown:u,onMouseup:v},[S(t,"default")],Q.STYLE|Q.CLASS|Q.PROPS,["onClick","onMouseup","onMousedown"]):je("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[S(t,"default")])}});const Ht=Ut,Pe=Symbol("dialogInjectionKey"),Re=oe({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ge},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Yt={close:()=>!0},Kt=U({name:"ElDialogContent"}),Vt=U({...Kt,props:Re,emits:Yt,setup(e,{expose:t}){const o=e,{t:s}=qe(),{Close:a}=Ze,{dialogRef:r,headerRef:u,bodyId:v,ns:f,style:p}=me(Pe),{focusTrapRef:b}=me(Ne),C=M(()=>[f.b(),f.is("fullscreen",o.fullscreen),f.is("draggable",o.draggable),f.is("align-center",o.alignCenter),{[f.m("center")]:o.center}]),g=Et(b,r),y=M(()=>o.draggable),n=M(()=>o.overflow),{resetPosition:i}=yt(r,u,y,n);return t({resetPosition:i}),(d,m)=>($(),ae("div",{ref:l(g),class:F(l(C)),style:ke(l(p)),tabindex:"-1"},[J("header",{ref_key:"headerRef",ref:u,class:F([l(f).e("header"),{"show-close":d.showClose}])},[S(d.$slots,"header",{},()=>[J("span",{role:"heading","aria-level":d.ariaLevel,class:F(l(f).e("title"))},xe(d.title),11,["aria-level"])]),d.showClose?($(),ae("button",{key:0,"aria-label":l(s)("el.dialog.close"),class:F(l(f).e("headerbtn")),type:"button",onClick:E=>d.$emit("close")},[z(l(Qe),{class:F(l(f).e("close"))},{default:P(()=>[($(),Z(Je(d.closeIcon||l(a))))]),_:1},8,["class"])],10,["aria-label","onClick"])):ie("v-if",!0)],2),J("div",{id:l(v),class:F(l(f).e("body"))},[S(d.$slots,"default")],10,["id"]),d.$slots.footer?($(),ae("footer",{key:0,class:F(l(f).e("footer"))},[S(d.$slots,"footer")],2)):ie("v-if",!0)],6))}});var zt=te(Vt,[["__file","dialog-content.vue"]]);const Wt=oe({...Re,appendToBody:Boolean,appendTo:{type:W([String,Object]),default:"body"},beforeClose:{type:W(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),Xt={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Oe]:e=>et(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},jt=(e,t)=>{var o;const a=st().emit,{nextZIndex:r}=tt();let u="";const v=Ee(),f=Ee(),p=k(!1),b=k(!1),C=k(!1),g=k((o=e.zIndex)!=null?o:r());let y,n;const i=ot("namespace",nt),d=M(()=>{const w={},B=`--${i.value}-dialog`;return e.fullscreen||(e.top&&(w[`${B}-margin-top`]=e.top),e.width&&(w[`${B}-width`]=ue(e.width))),w}),m=M(()=>e.alignCenter?{display:"flex"}:{});function E(){a("opened")}function I(){a("closed"),a(Oe,!1),e.destroyOnClose&&(C.value=!1)}function N(){a("close")}function D(){n==null||n(),y==null||y(),e.openDelay&&e.openDelay>0?{stop:y}=ye(()=>A(),e.openDelay):A()}function O(){y==null||y(),n==null||n(),e.closeDelay&&e.closeDelay>0?{stop:n}=ye(()=>_(),e.closeDelay):_()}function h(){function w(B){B||(b.value=!0,p.value=!1)}e.beforeClose?e.beforeClose(w):O()}function L(){e.closeOnClickModal&&h()}function A(){V&&(p.value=!0)}function _(){p.value=!1}function c(){a("openAutoFocus")}function T(){a("closeAutoFocus")}function H(w){var B;((B=w.detail)==null?void 0:B.focusReason)==="pointer"&&w.preventDefault()}e.lockScroll&&bt(p);function Me(){e.closeOnPressEscape&&h()}return K(()=>e.modelValue,w=>{w?(b.value=!1,D(),C.value=!0,g.value=ft(e.zIndex)?r():g.value++,ce(()=>{a("open"),t.value&&(t.value.scrollTop=0)})):p.value&&O()}),K(()=>e.fullscreen,w=>{t.value&&(w?(u=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=u)}),X(()=>{e.modelValue&&(p.value=!0,C.value=!0,D())}),{afterEnter:E,afterLeave:I,beforeLeave:N,handleClose:h,onModalClick:L,close:O,doClose:_,onOpenAutoFocus:c,onCloseAutoFocus:T,onCloseRequested:Me,onFocusoutPrevented:H,titleId:v,bodyId:f,closed:b,style:d,overlayDialogStyle:m,rendered:C,visible:p,zIndex:g}},Gt=U({name:"ElDialog",inheritAttrs:!1}),qt=U({...Gt,props:Wt,emits:Xt,setup(e,{expose:t}){const o=e,s=at();lt({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},M(()=>!!s.title));const a=de("dialog"),r=k(),u=k(),v=k(),{visible:f,titleId:p,bodyId:b,style:C,overlayDialogStyle:g,rendered:y,zIndex:n,afterEnter:i,afterLeave:d,beforeLeave:m,handleClose:E,onModalClick:I,onOpenAutoFocus:N,onCloseAutoFocus:D,onCloseRequested:O,onFocusoutPrevented:h}=jt(o,r);Ae(Pe,{dialogRef:r,headerRef:u,bodyId:b,ns:a,rendered:y,style:C});const L=Ie(I),A=M(()=>o.draggable&&!o.fullscreen);return t({visible:f,dialogContentRef:v,resetPosition:()=>{var c;(c=v.value)==null||c.resetPosition()}}),(c,T)=>($(),Z(l(Rt),{to:c.appendTo,disabled:c.appendTo!=="body"?!1:!c.appendToBody},{default:P(()=>[z(rt,{name:"dialog-fade",onAfterEnter:l(i),onAfterLeave:l(d),onBeforeLeave:l(m),persisted:""},{default:P(()=>[ut(z(l(Ht),{"custom-mask-event":"",mask:c.modal,"overlay-class":c.modalClass,"z-index":l(n)},{default:P(()=>[J("div",{role:"dialog","aria-modal":"true","aria-label":c.title||void 0,"aria-labelledby":c.title?void 0:l(p),"aria-describedby":l(b),class:F(`${l(a).namespace.value}-overlay-dialog`),style:ke(l(g)),onClick:l(L).onClick,onMousedown:l(L).onMousedown,onMouseup:l(L).onMouseup},[z(l(It),{loop:"",trapped:l(f),"focus-start-el":"container",onFocusAfterTrapped:l(N),onFocusAfterReleased:l(D),onFocusoutPrevented:l(h),onReleaseRequested:l(O)},{default:P(()=>[l(y)?($(),Z(zt,ct({key:0,ref_key:"dialogContentRef",ref:v},c.$attrs,{center:c.center,"align-center":c.alignCenter,"close-icon":c.closeIcon,draggable:l(A),overflow:c.overflow,fullscreen:c.fullscreen,"show-close":c.showClose,title:c.title,"aria-level":c.headerAriaLevel,onClose:l(E)}),it({header:P(()=>[c.$slots.title?S(c.$slots,"title",{key:1}):S(c.$slots,"header",{key:0,close:l(E),titleId:l(p),titleClass:l(a).e("title")})]),default:P(()=>[S(c.$slots,"default")]),_:2},[c.$slots.footer?{name:"footer",fn:P(()=>[S(c.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):ie("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[dt,l(f)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var xt=te(qt,[["__file","dialog.vue"]]);const oo=_e(xt);export{eo as C,It as E,to as I,Oe as U,De as a,Rt as b,oo as c,Qt as d,ft as i,Zt as s,pt as t};
